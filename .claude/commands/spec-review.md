---
description: 스펙의 AI 구현 준비도 리뷰 - Part 파일 분할 적합성 포함
runOn: project
---

# 스펙 리뷰 모드

스펙 문서의 AI(Sonnet 4.6) 구현 준비도를 자동 검증합니다.
Part 파일 분할 적합성도 함께 평가합니다.

## 입력 파라미터 분석

사용자가 전달한 인자를 파싱합니다: $ARGUMENTS

인자는 다음 형태 중 하나입니다. 형태를 판별하여 적절히 처리합니다:

| 형태 | 예시 | 처리 방식 |
|------|------|----------|
| **인자 없음** | `/spec-review` | 사용자에게 리뷰 대상을 질문 |
| **폴더명** | `1-redis-config` | `docs/specs/<폴더명>/`에서 spec.md + P*.md 읽어 리뷰 |
| **스펙 번호** | `1` | `docs/specs/`에서 `<번호>-*` 폴더를 탐색하여 리뷰 |

### 판별 규칙

1. 숫자만이면 → **스펙 번호** → `docs/specs/`에서 `<번호>-*` 폴더 탐색
2. `숫자-텍스트` 패턴이면 → **폴더명** → `docs/specs/<폴더명>/` 직접 접근
3. 인자가 없으면 → 사용자에게 질문:
   - "리뷰할 스펙을 지정해주세요. (폴더명 또는 스펙 번호)"

### 스펙 로드 절차

1. `docs/specs/` 하위에서 대상 폴더 탐색
2. `spec.md` 읽기 (부모 스펙, 전체 컨텍스트)
3. `P*.md` 파일 모두 읽기 (Part별 스펙)
4. spec.md에서 플랫폼 정보 추출

## 리뷰 실행

### 플랫폼/작업유형 판별

스펙 내용에서 플랫폼과 작업 유형을 자동 판별합니다:

- **플랫폼**: 파일명 접미사, 개요 테이블의 플랫폼 필드, 또는 Issue 라벨
- **작업 유형**: 파일명 접두사 (F=Feature, R=Refactor, S=System, B=Bug) 또는 Issue 제목

### spec-reviewer 에이전트 호출

Task 도구로 `spec-reviewer` 에이전트를 호출합니다:

```
에이전트에 전달할 프롬프트:

다음 스펙의 AI 구현 준비도를 리뷰해주세요.

- 플랫폼: <판별된 플랫폼>
- 작업 유형: <판별된 작업 유형>
- 스펙 내용:

<로드된 스펙 내용>
```

에이전트가 `.claude/guides/spec-review-criteria.md`를 읽고 리뷰를 수행합니다.

## 결과 출력 및 후속 안내

에이전트로부터 리뷰 리포트를 수신하면 사용자에게 표시하고,
종합 판정에 따라 후속 단계를 안내합니다:

### READY 판정 시

1. 리뷰 리포트를 터미널에 표시합니다
2. Part 파일 초안을 표시합니다
3. **사용자에게 스펙 리뷰를 요청합니다**:

```
리뷰 결과: READY - AI 리뷰 통과

스펙 폴더를 에디터에서 최종 확인해주세요:
docs/specs/<번호>-<기능명>/

확인 후 터미널에서 승인 또는 수정 의견을 알려주세요.
```

4. 사용자 응답 대기:
   - **승인** ("승인", "OK", "진행" 등) → spec.md 승인 이력 업데이트 → Part 브랜치 생성 안내
   - **수정 요청** (구체적 피드백) → 스펙 파일 수정 후 재리뷰 안내

### NEEDS_WORK 판정 시

1. 리뷰 리포트를 표시합니다
2. FAIL/WARN 항목의 수정 방안을 강조합니다
3. 안내:

```
리뷰 결과: NEEDS_WORK - 수정 후 재리뷰를 권장합니다.

위 FAIL/WARN 항목을 수정한 후 `/spec-review`를 다시 실행해주세요.
```

### NOT_READY 판정 시

1. 리뷰 리포트를 표시합니다
2. FAIL 항목 목록과 수정 가이드를 강조합니다
3. 안내:

```
리뷰 결과: NOT_READY - FAIL 항목을 반드시 수정해야 합니다.

FAIL 항목 N건을 수정한 후 `/spec-review`를 다시 실행해주세요.
Part 브랜치 생성은 최소 READY 판정 이후 가능합니다.
```
